{% extends "base.html" %}

{% block title %}Inicio – Ajedrez Recreativo{% endblock %}

{% block content %}
  <h2>Próximos eventos</h2>

  {% if events %}
    <div class="events">
      {% for event in events %}
        <div class="event-card">
          <h3>{{ event.title }}</h3>

          <p>
            <strong>Tipo:</strong>
            {{ event.category | replace("_", " ") | capitalize }}
          </p>

          <p>
            <strong>Duración:</strong>
            {{ event.occurrences | length }} sesiones
          </p>

          <p>
            <strong>Lugar:</strong>
            {{ event.location_name }}
          </p>

          <p>
            <strong>Precio:</strong>
            {% if event.pricing_mode == "PACKAGE" %}
              ${{ event.price }}
            {% else %}
              ${{ event.price * (event.occurrences | length) }}
            {% endif %}
          </p>

          <p>
            <a href="{{ url_for('public.event_detail', event_id=event.id) }}">
              Ver detalle / Inscripción
            </a>
          </p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No hay eventos disponibles en este momento.</p>
  {% endif %}
{% endblock %}
