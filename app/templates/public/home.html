{% extends "base.html" %}

{% block title %}Inicio – Ajedrez Recreativo{% endblock %}

{% block content %}
  <div class="card">
    <h2>Próximos eventos</h2>
    <p>Inscripciones abiertas a eventos publicados.</p>
  </div>

  {% if events %}
    {% for event in events %}
      <div class="card">
        <div class="row">
          <div class="col">
            <h2 style="margin-bottom:6px;">{{ event.title }}</h2>
            <p>
              <span class="badge">
                {% if event.pricing_mode == "PACKAGE" %}
                  Paquete
                {% else %}
                  Por sesión
                {% endif %}
              </span>
              <span class="badge">{{ event.status }}</span>
            </p>

            <p><strong>Lugar:</strong> {{ event.location_name }}</p>

            <p>
              <strong>Sesiones:</strong>
              {{ event.occurrences|length }}
            </p>

            <p>
              <strong>Precio:</strong>
              {% if event.pricing_mode == "PACKAGE" %}
                ${{ event.price }} <small>(por participante)</small>
              {% else %}
                ${{ event.price }} <small>(por sesión, por participante)</small>
              {% endif %}
            </p>
          </div>

          <div class="col" style="display:flex; align-items:flex-end; justify-content:flex-end;">
            <div class="actions">
              <a class="btn btn-primary" href="{{ url_for('public.event_detail', event_id=event.id) }}">
                Ver detalle
              </a>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="card">
      <p>No hay eventos disponibles en este momento.</p>
    </div>
  {% endif %}
{% endblock %}