{% extends "admin/base.html" %}
{% block title %}Nueva sesión · Admin{% endblock %}

{% block content %}
  <p><a href="{{ url_for('admin.event_detail', event_id=event.id) }}">← Volver al evento</a></p>

  <h2>Nueva sesión para: {{ event.title }}</h2>
  <p><strong>Modo:</strong> {{ event.pricing_mode }}</p>

  <form method="post">
    {{ form.hidden_tag() }}

    <div class="form-field">
      <label>Inicio</label>
      {{ form.start_dt(type="datetime-local") }}
      {% for e in form.start_dt.errors %}<div class="flash danger">{{ e }}</div>{% endfor %}
    </div>

    <div class="form-field">
      <label>Fin</label>
      {{ form.end_dt(type="datetime-local") }}
      {% for e in form.end_dt.errors %}<div class="flash danger">{{ e }}</div>{% endfor %}
    </div>

    <div class="form-field">
      <label>
        Cupo específico (opcional)
        <small>(si lo dejas vacío, se usa el cupo por defecto del evento)</small>
      </label>
      {{ form.capacity_override() }}
      {% for e in form.capacity_override.errors %}<div class="flash danger">{{ e }}</div>{% endfor %}
    </div>

    <div class="form-field">
      <label>
        Precio específico (opcional)
        <small>(si lo dejas vacío, se usa el precio base del evento)</small>
      </label>
      {{ form.price_override() }}
      {% for e in form.price_override.errors %}<div class="flash danger">{{ e }}</div>{% endfor %}
    </div>

    <div class="form-actions">
      {{ form.submit() }}
    </div>
  </form>
{% endblock %}
